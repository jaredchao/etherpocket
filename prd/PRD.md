# EtherPocket - Web3 钱包 PRD

## 1. 产品概述

EtherPocket 是一个基于 Web3 技术的数字钱包应用，为用户提供以太坊及 ERC-20 代币的管理、转账和交易记录查询功能。

### 技术栈
- Vite + React
- TailwindCSS + shadcn/ui
- RainbowKit + wagmi
- TypeScript

## 2. 核心功能

### 2.1 钱包连接功能

#### 2.1.1 MetaMask 集成
- 支持一键连接 MetaMask 钱包
- 支持自动检测钱包安装状态
- 未安装钱包时提供安装指引

#### 2.1.2 账户显示
- 显示当前连接的钱包地址
- 地址格式：前 6 位 + ... + 后 4 位（例：0x1234...5678）
- 支持一键复制完整地址
- 显示当前账户 ENS 域名（如果有）

#### 2.1.3 连接状态管理
- 显示当前连接状态（已连接/未连接）
- 提供连接/断开连接按钮
- 保存连接状态，下次访问自动连接

#### 2.1.4 网络管理
- 显示当前连接的网络信息
- 支持切换网络（主网/测试网）
- 显示网络连接状态指示器

### 2.2 余额查询功能

#### 2.2.1 ETH 余额
- 实时显示 ETH 余额
- 支持选择显示法币等值（USD/CNY）
- 自动更新余额（30秒间隔）

#### 2.2.2 ERC-20 代币管理
- 支持添加自定义代币
  * 通过合约地址添加
  * 自动获取代币信息（符号、小数位）
  * 验证代币合约有效性
- 显示代币列表
  * 代币符号
  * 代币余额
  * 代币图标（如有）
- 支持移除已添加的代币
- 本地存储代币列表

#### 2.2.3 余额刷新
- 提供手动刷新按钮
- 显示最后更新时间
- 刷新时显示加载动画

### 2.3 转账功能

#### 2.3.1 ETH 转账
- 接收地址输入
  * 支持 ENS 域名解析
  * 地址格式验证
- 转账金额输入
  * 支持最大余额快捷选择
  * 金额格式验证
- Gas 费用管理
  * 显示预估 Gas 费用
  * 支持自定义 Gas 设置
- 交易确认流程
  * 显示交易预览
  * 二次确认弹窗
  * 显示交易进度

#### 2.3.2 ERC-20 代币转账
- 代币选择器
  * 显示可用代币列表
  * 显示代币余额
- 转账表单
  * 接收地址输入
  * 转账金额输入
  * 余额限制验证
- 授权管理
  * 显示授权状态
  * 支持授权额度设置
- 交易状态追踪

### 2.4 交易历史

#### 2.4.1 交易列表
- 显示所有交易记录
  * 转账金额
  * 交易时间
  * 交易类型（发送/接收）
  * 交易对手地址
- 支持分页加载
- 支持按类型筛选

#### 2.4.2 交易状态
- 显示交易确认状态
  * 待确认
  * 已确认
  * 失败
- 显示确认区块数
- 失败交易原因说明

#### 2.4.3 交易详情
- 提供区块浏览器链接
- 显示详细交易信息
  * Gas 费用
  * 区块信息
  * 交易数据

## 3. 非功能需求

### 3.1 性能要求
- 页面加载时间 < 3 秒
- 交易响应时间 < 1 秒
- 余额刷新间隔 30 秒

### 3.2 安全要求
- 不存储用户私钥
- 所有交易需用户确认
- 敏感数据加密存储
- 防止重放攻击

### 3.3 兼容性要求
- 支持主流浏览器
  * Chrome
  * Firefox
  * Edge
- 支持移动端响应式布局

### 3.4 用户体验
- 操作反馈及时
- 错误提示清晰
- 加载状态显示
- 交易确认提示
- 余额变动通知

## 4. 后续优化方向

- 多语言支持
- 暗色模式
- 交易地址本
- 代币价格追踪
- 交易数据导出
- 多链支持 
